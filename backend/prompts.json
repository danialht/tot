{
  "idea_or_direct_generation": "Problem: {problem}\n\n{context}\n\nWhat are the most important insights, edge cases, or potential issues to consider?\n\nFocus on:\n- Edge cases that could break typical approaches\n- Assumptions that might be wrong\n- Alternative interpretations of the problem\n- Potential tricks or gotchas\n- Non-obvious constraints or requirements\n- Ways the problem might be more complex than it appears\n- Group related ideas into branches. Each branch = one distinct line of attack.\n- Within each branch, list only non-duplicated sub-insights. Produce branches of reasoning.\nIf there is only 1 idea to try, you may directly compute the solution. You are encouraged to not provide final soltuions unless there is nothing else to try for that branch. \nSTRICTLY follow this output schema and DO NOT include anything else outside these fields. \n\nOutput format (no deviations):\n\n[NUMBER]. Branch: [concise idea or 'Solve directly']\nWhy: [2-4 lines: why this helps]\nInsights:\n- [concise bullet]\n- [concise bullet]\n- [concise bullet]\nAnswer: [only if fully solvable; otherwise omit]\n---\n\n Rules:\n- Up to {up_to_hint} branches (0+); include 'Solve directly' with Answer if applicable.\n- Use the exact labels: 'Branch:', 'Why:', 'Insights:', 'Answer:' or 'Answer (tentative):'.\n- Separate branches with a line containing only three dashes: ---\n- Do NOT include any other headings or sections.\n- If nothing beyond a direct solution is needed, output exactly one branch: 'Solve directly' with 'Answer: ...'.",
  
  "thought_validation": "Problem: {problem}\n\nCurrent context:\n{context}\n\nInsight to evaluate:\nThought: {thought_text}\nRationale: {thought_rationale}\nIntent: {thought_intent}\n\nJudge whether this thought is a promising direction for solving the problem.\n\nGuidelines:\n- If Intent=solve: evaluate correctness and completeness of the proposed solution.\n- If Intentâ‰ solve (exploratory/analysis): evaluate plausibility and whether this idea could realistically lead to a solution if developed further. Evaluate how well this prompt catches edge cases, gotchas from the problem statement, etc. \n- Reward thoughts that highlight critical physics, math, or assumptions.\n- Penalize if the idea is irrelevant, implausible, or adds no real progress. \n- 0.0 = Not promising at all; irrelevant or fatally flawed\n- 0.3 = Very low promise; weak connection, unlikely to help\n- 0.6 = Some promise; could help if expanded, plausible but incomplete\n- 0.8 = Strong promise; clearly a good direction worth pursuing\n- 1.0 = Either a correct solution (if Intent=solve) or an excellent guiding insight\n\nFormat: Score: [0.0-1.0]\nReason: [brief explanation]",
  
  "solution_validation": "Problem: {problem}\n\nProposed solution: {solution}\n\nIs this solution correct and complete?\n\nEvaluate:\n- Mathematical accuracy (if applicable)\n- Logical soundness\n- Completeness of the answer\n- Reasonableness of assumptions\n- Whether it actually answers the question asked\n\nRespond with:\nCorrect: [yes/no]\nConfidence: [0.0-1.0]\nExplanation: [brief reasoning]\n\nIf incorrect, briefly explain what's wrong or missing.",
  
  "retry_prompt": "\n\nPlease provide specific, actionable ideas in the requested format."
}
